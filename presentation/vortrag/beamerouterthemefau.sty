%-------------------------------------------------------------------------------
% Outer theme file
%-------------------------------------------------------------------------------

\mode<presentation>


% Margins
\pgfmathparse{\factor*1.56cm}
\setbeamersize{text margin left=\pgfmathresult pt}
\pgfmathparse{\factor*.68cm}
\setbeamersize{text margin right=\pgfmathresult pt}


\setbeamertemplate{navigation symbols}{}


\setbeamertemplate{frametitle}{%
  \insertframetitle\\
}


\setbeamertemplate{headline}{%
  \def\paperheight{\factor*1.83cm}
  \begin{pgfpicture}{0cm}{0cm}{\paperwidth}{\paperheight}
    \pgfputat{\pgfpoint{\paperwidth-\factor*.92cm}{\paperheight-\factor*.34cm}}{%
      \pgfbox[right,top]{%
        \pgfuseimage{faulogo-small}
      }
    }
  \end{pgfpicture}
}

\setbeamertemplate{sidebar left}{%
  \def\canvasheight{\paperheight-\factor*1.83cm} % height minus headline
  \begin{pgfpicture}{0cm}{0cm}{\factor*.82cm}{\canvasheight}
    \color{maincolor}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*3.66cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*1.79cm}}

    \color{boxcolor1}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*5.52cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*0.41cm}}

    \color{boxcolor2}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*5.88cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*0.41cm}}

    \color{boxcolor3}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*6.24cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*0.41cm}}

    \color{boxcolor4}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*6.6cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*0.41cm}}

    \color{boxcolor5}
    \pgfrect[fill]{\pgfpoint{0cm}{\paperheight-\factor*6.96cm}}%
                  {\pgfpoint{\factor*.73cm}{-\factor*0.36cm}}
  \end{pgfpicture}
}


% hide default beamer logo
\setbeamertemplate{sidebar right}{}


\setbeamertemplate{background}{%
  \ifbeamer@plainframe\else%
    \begin{pgfpicture}{0cm}{0cm}{\paperwidth}{\paperheight}
      \color{faublue}
      \pgfsetlinewidth{\factor*.75pt}
      \pgfrect[stroke]{\pgfpoint{\factor*.82cm}{\paperheight-\factor*1.83cm}}
                      {\pgfpoint{\paperwidth-\factor*.82cm+\factor*.75pt}{-\factor*16.46cm}}

      \ifbeamer@logo
        % Draw logo
        \pgfputat{\pgfpoint{\paperwidth-\factorx*1.24cm}%
                           {\paperheight-\factor*17.1cm}}{%
          \pgfbox[right,bottom]{%
            \scalebox{0.65}{% Same scale factor as FAU logo
              \insertlogo
            }
          }
        }
      \fi
    \end{pgfpicture}
  \fi
}


\setbeamertemplate{footline}{%
  \def\canvasheight{\paperheight-\factor*18.29cm}
  \begin{pgfpicture}{0cm}{0cm}{\paperwidth}{\canvasheight}
    % shortauthor, shortinstitute, and shorttitle
    \pgfputat{\pgfpoint{\factor*.82cm}{\factor*.64cm}}{%
      \pgfbox[left,top]{%
        \pgfmathparse{\factorx*17cm}%
        \parbox[c]{\pgfmathresult pt}{%
          \vspace{.33ex}%
          \ifx\insertshortauthor\empty\else%
            \mbox{\insertshortauthor}\quad|\quad%
          \fi%
          \ifx\insertshortinstitute\empty\else%
            \mbox{\insertshortinstitute}\quad|\quad%
          \fi%
          \mbox{\insertshorttitle}
        }
      }
    }

    % shortdate
    \pgfputat{\pgfpoint{\factorx*18.92cm}{\factor*.64cm}}{%
      \pgfbox[left,top]{%
        \pgfmathparse{\factorx*3cm}
        \parbox{\pgfmathresult pt}{%
          \vspace{.33ex}%
          \ifx\insertshortdate\empty\else%
            \insertshortdate%
          \fi%
        }
      }
    }

    % frame number
    \pgfputat{\pgfpoint{\factorx*22.85cm}{\factor*.64cm}}{%
      \pgfbox[left,top]{%
        \pgfmathparse{\factorx*2cm}
        \parbox{\pgfmathresult pt}{%
          \vspace{.33ex}%
          \raggedleft%
          \insertframenumber
        }
      }
    }
  \end{pgfpicture}
}


\mode
<all>
